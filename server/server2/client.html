<html>

<head>

<style>
.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown-content a:hover {background-color: #f1f1f1}

.dropdown:hover .dropdown-content {
    display: block;
}

</style>


<script> 

function ajax_post(){ 
	var hr = new XMLHttpRequest();
	// Create some variables we need to send to our PHP file
	var url = "server.php";
	var nm = document.getElementById("code").value;
	var vars = "code="+nm;

	hr.open("POST", url, true);
	// Set content type header information for sending url encoded variables in the request
	hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

	// Access the onreadystatechange event for the XMLHttpRequest object
	hr.onreadystatechange = function() { 

		if(hr.readyState == 4 && hr.status == 200) { 
			var return_data = hr.responseText;
			var Module = {
				print: (function() {
				  var element = document.getElementById('output');
				  if (element) element.value = ''; // clear browser cache
				  return function(text) {
				    if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
				    console.log(text);
				    if (element) {
				      element.value += text + "\n";
				      element.scrollTop = element.scrollHeight; // focus on bottom
				    }
				  };
				})()     
			      };
			eval(return_data);
		} 
	} 

	// Send the data to PHP now... and wait for response to update the status div
	hr.send(vars);
	document.getElementById('status').innerHTML = ""; } 


var nr = 0;
function inc_nr() {
	nr = nr + 1;
	if (nr == 8)
		nr = 1;
	put_tutorial()
}

function dec_nr() {
	nr = nr - 1;
	if (nr <= 0)
		nr = 7;
	put_tutorial()
}

function set_nr(x) {
	nr = x;
	put_tutorial()
}

function put_tutorial(){ 
	var hr = new XMLHttpRequest();
	
	// Create some variables we need to send to our PHP file
	var url = "server.php";
//	var nm = document.getElementById("code").value;
	var vars = "code-tutorial="+nr;

	hr.open("POST", url, true);
	// Set content type header information for sending url encoded variables in the request
	hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

	// Access the onreadystatechange event for the XMLHttpRequest object
	hr.onreadystatechange = function() { 

		if(hr.readyState == 4 && hr.status == 200) { 
			var return_data = hr.responseText;
						//eval(return_data);
			document.getElementById("code").value = return_data;
			//--------------------------------//
			//var e = document.getElementById("status");
			//e.innerHTML = newsc;
			//eval(document.getElementById('sc1').innerHTML);
		} 
	} 

	// Send the data to PHP now... and wait for response to update the status div
	hr.send(vars);
	document.getElementById('status').innerHTML = ""; } 


</script>

</head>

<body>
Name: <textarea id="code" name="code" rows="20" cols="30"></textarea>   
<script>
javascript:inc_nr();
</script>
<input type="submit" name = "submit" value="Send" onclick="javascript:ajax_post();">
<input type="submit" name = "submit" value="Next Tutorial" onclick="javascript:inc_nr();">
<input type="submit" name = "submit" value="Previous Tutorial" onclick="javascript:dec_nr();">

<div class="dropdown">
	<button class="dropbtn">Dropdown</button>
	<div class="dropdown-content">
	<ul style="list-style-type:none">
		<li><input type="submit" name = "submit" value="Tutorial 1" onclick="javascript:set_nr(1);"></li>
		<li><input type="submit" name = "submit" value="Tutorial 2" onclick="javascript:set_nr(2);"></li>
		<li><input type="submit" name = "submit" value="Tutorial 3" onclick="javascript:set_nr(3);"></li>
		<li><input type="submit" name = "submit" value="Tutorial 4" onclick="javascript:set_nr(4);"></li>
		<li><input type="submit" name = "submit" value="Tutorial 5" onclick="javascript:set_nr(5);"></li>
		<li><input type="submit" name = "submit" value="Tutorial 6" onclick="javascript:set_nr(6);"></li>
		<li><input type="submit" name = "submit" value="Tutorial 7" onclick="javascript:set_nr(7);"></li>
	</ul>
  </div>
</div>

<br>

<div id="status"></div>

<textarea class="emscripten" id="output" rows="10"></textarea>


</body>

</html>

